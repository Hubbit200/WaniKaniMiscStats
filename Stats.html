<!DOCTYPE html>
<html>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-V3WGNFTLVD"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-V3WGNFTLVD');
	</script>
	<!-- rest -->
	<title>WK History</title>
	<link rel="icon" href="images/icon.png">
	<link href="style.css" rel="stylesheet" type="text/css">
	<meta charset="UTF-8">
	<meta name="description" content="Look at your full WaniKani history!">
	<meta name="author" content="Sahaquiel">
	<meta name="keywords" content="wanikani api stats statistics">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

	<a id="top"></a>

	<div class="form-group" style="margin-top: 12%; float:right; position: relative; z-index: 1000">
		<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
			<button class="btn btn-primary btn-md" style="position: fixed; right: 10px; bottom: 10px; padding: 4px" onclick="window.location.hash = ''; window.location.hash = '#top';">↑ Go Back Up</button>
		</div>
	</div>

	<div id="blackoverlay" style="visibility: hidden; position: absolute; top: 0%; left: 0%; width: 100%; height: 120%; background: black; z-index: 1001; opacity: 0.5;"></div>
	<div id="whiteoverlay" class="w3-container" style="visibility: hidden; position: absolute; top: 50%;left: 50%; transform: translate(-50%, -50%) ;background-color: white; z-index: 1002; overflow: auto; padding: 20px">
		<h3 style="margin-top: 10px">Loading Data...</h3>
		<!--<p>Level Data</p>
		<div id="progressbar" style="width: 200px; height: 15px">
			<div id="levelpg" style="width: 0%"></div>
		</div>
		<p>Word Data</p>
		<div id="progressbar" style="width: 200px; height: 15px">
			<div id="wordpg" style="width: 0%"></div>
		</div>
		<p>Reset Data</p>
		<div id="progressbar" style="width: 200px; height: 15px">
			<div id="resetpg" style="width: 0%"></div>
		</div>
		<p>Subject Data</p>
		<div id="progressbar" style="width: 200px; height: 15px">
			<div id="subjectpg" style="width: 0%"></div>
		</div>
		<p>Assignment Data</p>
		<div id="progressbar" style="width: 200px; height: 15px">
			<div id="assignpg" style="width: 0%"></div>
		</div>
		<div id="reviewprogress" style="margin-bottom: 10px">
			<p>Review Data</p>
			<div id="progressbar" style="width: 200px; height: 15px">
				<div id="reviewpg" style="width: 0%; text-align: center; color: white; font-size: 9px"></div>
			</div>
		</div>-->
	</div>

	<div class="header" style="background: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), url('images/wanikani_bg_icon.jpg');
		background-repeat: no-repeat;
        background-attachment: inherit;
        background-size: cover;
        background-position: top">

		<div style="text-align: right; font-size: 12px">バージョン３.４.０</div>
		<button type="button" onclick="logout();" style="padding: 3px 4px; font-size: 10px; float: left; background-color: rgba(200,200,200,0.2); color: rgba(10,10,10,0.3); border-color: rgba(100,100,100,0.2)">Logout</button>
		<h1 style="background-color: rgba(255, 255, 255, 0.7); margin-bottom: 0px">WaniKani History</h1>
		<h2 style="background-color: rgba(255, 255, 255, 0.7); margin-top: 0px; margin-bottom: 35px">And Other Miscellaneous Stats</h2>
	</div>

	<div class="topnav">
		<a href="https://github.com/saraqael-m/WaniKaniMiscStats">Github Repo</a>
		<a href="https://community.wanikani.com/t/web-app-more-wanikani-stats/56652">WaniKani Thread</a>
		<a href="https://community.wanikani.com/u/koichi/summary">Koichi</a>
		<a href="./OLD/index.html" style="float:right">Old Website</a>
	</div>

	<div class="allinfo" style="display: none">
		<div class="toc" style="margin-top: 20px">
			<a onclick="window.location.hash = ''; window.location.hash = '#LevelInfo';">Level Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#SrsInfo';">SRS Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#ReviewInfo';">Review Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#AccuracyInfo';">Accuracy Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#InfoTable';">Info Table</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#WordInfo';">Word Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#WallofShame';">Wall of Shame</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#WallofFame';">Wall of Fame</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#UserInfo';">User Info</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#Projections';">Projections</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#WordProgress';">Word Progress</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#Yojijukugo';">Yojijukugo</a>
			<a onclick="window.location.hash = ''; window.location.hash = '#KanjiWall';">Kanji Wall</a>
		</div>
	</div>


	<div class="row">

		<div class="allinfo" style="display: none">

			<div class="leftcolumn">

				<div class="card">
					<a id="LevelInfo"></a>
					<h2 class="heading">Level Info</h2>
					<div id="leveltimechart"></div>
					<div style="background-color: lightgrey; padding: 10px; margin-bottom: 30px; display: inline-block">
						<h4 style="margin-top: 0px; margin-bottom: 10px">Settings</h4>
						<div style="padding-top: 5px">
							<input type="checkbox" id="levelclamp" name="levelclamp">
							<label for="levelclamp">Show Full y-Axis</label>
						</div>
						<div style="padding-top: 5px">
							<input type="checkbox" id="levelcomb" name="levelcomb">
							<label for="levelcomb">Combine Time Per Column</label>
						</div>
						<div style="padding-top: 5px">
							<input type="checkbox" id="levelresets" name="levelresets">
							<label for="levelresets">Hide Reset Levels</label>
						</div>
					</div>
				</div>

				<div class="card">
					<h4>Set time frame for <i>SRS Item Info</i>, <i>Review Info</i>, <i>and Accuracy Info</i>:</h4>
					<div style="background-color: lightgrey; padding: 10px; padding-top: 0px; display: inline-block">
						<pre id="reviewloading" style="padding-top: 0px"></pre>
						<!--<span id="newdatediv">Change time frame to </span>
						<input type="number" onkeydown="if (event.key === 'Enter') { updateReviewCharts(); updateReviewAccuracy(); }" style="width: 50px" id="newdateinp" min="1" max="9999">
						<span> months. </span>-->
						<label for="startdate">Start date for time frame:</label>
						<input type="date" id="startdate" name="trip-start" value="2022-05-26">
						<button type="button" onclick="updateReviewCharts(); updateReviewAccuracy();" id="newdatebtn">Generate Charts</button>
						<div style="padding-top: 5px">
							<input type="checkbox" id="nullify" name="nullify">
							<label for="nullify">Start with 0</label>
						</div>
					</div>
				</div>

				<div id="reviewall">
					<div class="card">
						<a id="SrsInfo"></a>
						<h2 class="heading" style="padding-bottom: 0px">SRS Item Info</h2>
						<div id="srschart2"></div>
						<div id="srschart"></div>
					</div>
					<div class="card">
						<a id="ReviewInfo"></a>
						<h2 class="heading">Review Info</h2>
						<div id="reviewchart"></div>
						<div style="background-color: lightgrey; padding: 10px; margin-bottom: 30px; display: inline-block">
							<span>Average "Reviews Per Day" chart over </span>
							<input type="number" onkeydown="if (event.key === 'Enter') updateReviewsPerDay();" style="width: 70px" id="smoothreview" min="1" max="9999" value="0">
							<span> days.</span>
							<button type="button" onclick="updateReviewsPerDay();">Generate Chart</button>
						</div>
						<div id="totalchart"></div>
					</div>
				</div>

				<div id="wordall">
					<div class="card">
						<a id="AccuracyInfo"></a>
						<h2 class="heading">Accuracy Info</h2>
						<div id="percentagechart"></div>
						<div style="background-color: lightgrey; padding: 10px; margin-bottom: 30px; display: inline-block">
							<span>Average "Review Accuracy" chart over </span>
							<input type="number" onkeydown="if (event.key === 'Enter') updateReviewAccuracy();" style="width: 70px" id="smoothacc" min="0" max="9999" value="10">
							<span> days.</span>
							<button type="button" onclick="updateReviewAccuracy();">Generate Chart</button>
						</div>
					</div>

					<div class="card">
						<a id="InfoTable"></a>
						<h2 class="heading">Info Table</h2>
						<div style="background-color: lightgrey; padding: 10px; margin-bottom: 30px; display: inline-block">
							<span>Column time span of </span>
							<input type="number" onkeydown="if (event.key === 'Enter') updateTables();" style="width: 70px" id="tablemonth" min="0" max="9999" value="1">
							<span> months and </span>
							<input type="number" onkeydown="if (event.key === 'Enter') updateTables();" style="width: 70px" id="tableday" min="0" max="9999" value="0">
							<span> days.</span>
							<button type="button" onclick="updateTables();">Generate Table</button>
							<div style="margin-top: 10px"><i>Change time interval offset (shift table):</i></div>
							<div style="margin-top: 6px"></div><div style="margin: 0">
								<button type="button" onclick="updateTables(1);" style="border-width: 0px; margin: 5px">&lt;</button>
								<span>Offset: </span><span id="tableoffset"></span>
								<button type="button" onclick="updateTables(-1);" style="border-width: 0px; margin: 5px">&gt;</button>
								<button type="button" onclick="updateTables(100000);" style="border-width: 0px; margin: 5px">&gt;&gt;</button>
							</div>
						</div>
						<table style="width: 100%; text-align: center">
							<thead>
								<tr id="tableheadinterval">
									<th>Interval</th>
									<th>1</th>
									<th>2</th>
									<th>3</th>
									<th>4</th>
									<th>5</th>
									<th>6</th>
									<th>7</th>
									<th>8</th>
									<th>9</th>
									<th>10</th>
									<th>11</th>
									<th>12</th>
								</tr>
								<tr id="tableheaddate">
									<th>Start Date</th>
									<th>1</th>
									<th>2</th>
									<th>3</th>
									<th>4</th>
									<th>5</th>
									<th>6</th>
									<th>7</th>
									<th>8</th>
									<th>9</th>
									<th>10</th>
									<th>11</th>
									<th>12</th>
								</tr>
								<tr id="tableheadenddate">
									<th>End Date</th>
									<th>1</th>
									<th>2</th>
									<th>3</th>
									<th>4</th>
									<th>5</th>
									<th>6</th>
									<th>7</th>
									<th>8</th>
									<th>9</th>
									<th>10</th>
									<th>11</th>
									<th>12</th>
								</tr>
							</thead>
							<tbody>
								<tr id="reviewtable" style="border-top: 2px solid darkgrey">
									<td style="text-align: left">Reviews</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="reviewradtable" style="background-color: azure">
									<td style="color: dodgerblue">↳ 部首</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="reviewkanjitable" style="background-color: #ffe6f8">
									<td style="color: hotpink">↳ 漢字</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="reviewvocabtable" style="background-color: #f3ebfc">
									<td style="color: mediumpurple">↳ 単語</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="itemtable" style="border-top: 2px solid darkgrey">
									<td style="text-align: left">Lessons</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="itemradtable" style="background-color: azure">
									<td style="color: dodgerblue">↳ 部首</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="itemkanjitable" style="background-color: #ffe6f8">
									<td style="color: hotpink">↳ 漢字</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="itemvocabtable" style="background-color: #f3ebfc">
									<td style="color: mediumpurple">↳ 単語</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="acctable" style="border-top: 2px solid darkgrey">
									<td style="text-align: left">Accuracy</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="accradtable" style="background-color: azure">
									<td style="color: dodgerblue">↳ 部首</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="acckanjitable" style="background-color: #ffe6f8">
									<td style="color: hotpink">↳ 漢字</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="accvocabtable" style="background-color: #f3ebfc">
									<td style="color: mediumpurple">↳ 単語</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<!--<tr id="readacctable" style="border-top: 2px solid darkgrey">
									<td style="text-align: left"> ↳ 読み</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="readaccradtable" style="background-color: azure">
									<td style="color: dodgerblue">↳ 部首</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="readacckanjitable" style="background-color: #ffe6f8">
									<td style="color: hotpink">↳ 漢字</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="readaccvocabtable" style="background-color: #f3ebfc">
									<td style="color: mediumpurple">↳ 単語</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="meanacctable" style="border-top: 2px solid darkgrey">
									<td style="text-align: left"> ↳ 意味</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="meanaccradtable" style="background-color: azure">
									<td style="color: dodgerblue">↳ 部首</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="meanacckanjitable" style="background-color: #ffe6f8">
									<td style="color: hotpink">↳ 漢字</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>
								<tr id="meanaccvocabtable" style="background-color: #f3ebfc">
									<td style="color: mediumpurple">↳ 単語</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
									<td>-</td>
								</tr>-->
							</tbody>
						</table>
					</div>

					<div class="card">
						<a id="WordInfo"></a>
						<h2 class="heading">Word Info</h2>
						<p><b>Tip:</b> Click data points to be able to scroll through the word data and to be able to click on individual words to be led to their respective WaniKani site.</p>
						<div id="wordbubblechart"></div>
						<div id="radbubblechart"></div>
					</div>

					<div class="card">
						<a id="WallofShame"></a>
						<h2>Wall of Shame</h2>
						<div id="worstwords"></div>
						<div id="worstwordsradical"></div>
						<div id="worstwordskanji"></div>
						<div id="worstwordsvocab"></div>
					</div>

					<div class="card">
						<a id="WallofFame"></a>
						<h2>Wall of Fame</h2>
						<div id="topwords"></div>
						<div id="topwordsradical"></div>
						<div id="topwordskanji"></div>
						<div id="topwordsvocab"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="rightcolumn">
			<div class="allinfo" style="display: none">
				<div class="card">
					<a id="UserInfo"></a>
					<h2 class="heading">User Info</h2>
					<pre style="color:black" id="userinfo"></pre>
				</div>
				<div class="card" id="projectionsall">
					<a id="Projections"></a>
					<h2 class="heading">Projections</h2>
					<pre id="future"></pre>
					<div style="padding-top: 5px">
						<input type="checkbox" id="projectionsspeed" name="projectionsspeed">
						<label for="projectionsspeed">Calculate With Short Levels</label>
					</div>
				</div>
				<div class="card">
					<a id="WordProgress"></a>
					<h2 class="heading">Word Progress</h2>
					<div id="wordprogress"></div>
					<pre id="wordprogressinfo"></pre>
				</div>
				<div class="card" id="yojijukugoall" style="position: relative; display: block;">
					<a id="Yojijukugo"></a>
					<h2 class="heading"><ruby>四字熟語<rt>よじじゅくご</rt></ruby> (Yojijukugo)</h2>
					<p style="margin-bottom: 10px"><i>These idioms in the form of four character compounds are called <a href="https://www.tofugu.com/japanese/yojijukugo-idioms/">四字熟語</a>. You should already be able to read these:</i></p>

					<div style="margin: 0; margin-bottom: 20px; position: absolute; left: 50%; -ms-transform: translateX(-50%); transform: translateX(-50%);">
						<button type="button" onclick="changeYojijukugoRandom();" style="border-width: 0px; margin: 5px">Random</button>
					</div>
					<div style="margin-bottom: 40px"></div><div style="margin: 0; position: absolute; left: 50%; -ms-transform: translateX(-50%); transform: translateX(-50%);">
						<button type="button" onclick="changeYojijukugo(-1);" style="border-width: 0px; margin: 5px">&lt;</button>
						<span id="yojijukugopage">1/1 </span>
						<button type="button" onclick="changeYojijukugo(1);" style="border-width: 0px; margin: 5px">&gt;</button>
					</div>
					<div style="text-align: center; font-size: 25px; margin-top: 80px"><ruby id="yojijukugoword">一朝有事<rt id="yojijukugofurigana">いっちょうゆうじ</rt></ruby></div>
					<div style="padding-top: 20px"><b>Meaning(s):</b></div>
					<ul id="yojijukugomeaning">
						<li>Four letter compounds.</li>
					</ul>

					<pre style="font-size: 10px">Source: <a href="http://www.edrdg.org/projects/yojijukugo.html">EDRDG</a></pre>
				</div>
				<div class="card">
					<a id="KanjiWall"></a>
					<h2 class="heading">Kanji Wall</h2>
					<span><i>You (hopefully) already know these Kanji:</i></span>
					<div id="kanjiwall"></div>
				</div>
			</div>
			<div class="card">
				<h3>About</h3>
				<p style="text-align: justify; text-justify: auto">This is a WaniKani statistics website similar to <a href="https://wkstats.com">WK stats</a>. Its goal is to provide the user with more information about their WaniKani achievements. It focuses primarily on showing the user their personal Japanese learning history with WaniKani but also displays some different statistics from all categories.</p>
			</div>
			<div class="card">
				<h3>Contact</h3>
				<p style="text-align: justify; text-justify: auto">If you find some bugs or have an idea for some other stats just @ me in the WaniKani community (<a style="color:darkgray">@saraqael</a>). Preferably, leave a comment on the <a href="https://community.wanikani.com/t/web-app-more-wanikani-stats/56652">main thread</a> for this web app.</p>
			</div>
		</div>

	</div>

	<div class="allinfo" style="display: none">
		<div class="footer">
			<h2>You have reached the end. おめでとう！</h2>
		</div>
	</div>


	<!-- Modules -->
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> <!-- google charts -->
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="js/jquery-3.6.0.min.js"></script>
	<!-- WaniKani Open Framework scripts -->
	<script src="js/wkof/Core.js"></script>
	<script src="js/wkof/ItemData.js"></script>
	<script src="js/wkof/Settings.js"></script>
	<script src="js/wkof/Apiv2.js"></script>
	<script src="js/wkof/Progress.js"></script>
	<!-- main script -->
	<script src="js/mainWkof.js"></script>

</body>
</html>